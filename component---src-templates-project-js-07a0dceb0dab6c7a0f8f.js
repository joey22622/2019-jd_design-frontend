(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{256:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),s=a(251),n=(a(21),a(110)),l=a.n(n),c=function(e){var t={width:e.slides.length+"00vw",transform:"translateX(-"+100*e.activeSlide.index+"vw)"};return i.a.createElement("div",{className:"slider-wrapper",style:e.style.main},i.a.createElement("div",{className:"slider-inner"},i.a.createElement("div",{className:"arrow-container",style:e.style.underlay},i.a.createElement("div",{className:"button-wrap-outer button-prev "+e.arrowClasses.prev},i.a.createElement("div",{className:"button-wrap-inner"},i.a.createElement("button",{onClick:function(t){t.preventDefault(),e.changeSlide(e.activeSlide.index-1)},className:"arrow-left",style:e.arrowStyles.prev},i.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"},i.a.createElement("defs",null),i.a.createElement("title",null,"arrow_prev"),i.a.createElement("path",{className:"cls-1",d:"M88.5,250l323-234.47L196.5,250l215,234.47Z"})))),i.a.createElement("div",{className:"arrow-streak"})),i.a.createElement("div",{className:"button-wrap-outer button-next "+e.arrowClasses.next},i.a.createElement("div",{className:"arrow-streak"}),i.a.createElement("div",{className:"button-wrap-inner"},i.a.createElement("button",{onClick:function(t){t.preventDefault(),e.changeSlide(e.activeSlide.index+1)},className:"arrow-right",style:e.arrowStyles.next},i.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"},i.a.createElement("defs",null),i.a.createElement("title",null,"arrow_next"),i.a.createElement("path",{className:"cls-1",d:"M411.5,250,88.5,484.47,303.5,250,88.5,15.53Z"})))))),i.a.createElement("div",{className:"slide-window",style:e.style.window},i.a.createElement("div",{className:"slide-container",style:t},e.slides.map((function(e,t){return i.a.createElement("div",{key:t,"data-index":t,className:"project-slide-wrap"},i.a.createElement("div",{className:"slide-wrap-inner"},e.gif?i.a.createElement("div",null,i.a.createElement("img",{src:e.remote})):i.a.createElement(l.a,{fluid:e.fluid})))}))))),i.a.createElement("div",{onClick:e.toggle,style:e.style.underlay,className:"slider-underlay"}))},o=function(e){return i.a.createElement("div",{className:"photo-grid"},e.photoGridData.map((function(t,a){if(a>0)return i.a.createElement("div",{onClick:function(){e.toggle(a)},key:a,onMouseOver:function(){return e.changeSlides(a)},"data-index":a,style:e.style,className:"slide-wrap"},t.gif?i.a.createElement("div",{onMouseEnter:function(){return e.toggleGIF(a)},onMouseOut:function(){return e.toggleGIF(a)}},i.a.createElement("img",{src:t.src})):i.a.createElement(l.a,{fluid:t.fluid}))})))};var d=function(e){var t,a;function r(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={slides:[],imageSlider:{active:!1,activeSlide:{},inactiveStyle:{display:"none"},arrowStyles:{next:{},prev:{}},arrowClasses:{next:"",prev:""},style:{current:{main:{opacity:0,pointerEvents:"none"},underlay:{transform:"translateY(100vh)",opacity:.8},window:{transform:"translateY(-100vh)",opacity:0}},active:{underlay:{}},inactive:{main:{opacity:0,pointerEvents:"none"},underlay:{transform:"translateY(100vh)",opacity:.4},window:{transform:"translateY(-100vh)",opacity:0}}}},data:t.props.data.sanityProject,dimmensions:{},thumbnail:{style:{}}},t.toggleSlider=function(e){e||(e=0);var a=t.state.imageSlider,r=!a.active;a.active=r,r?(a.style.current=a.style.active,t.changeSlides(e)):a.style.current=a.style.inactive,t.setState({imageSlider:a})},t.checkVar=function(e,t){try{return e()}catch(a){return t}},t.handleDims=function(){var e=t.state.dimmensions,a=t.checkVar((function(){return document.querySelector(".photo-grid .slide-wrap")}),!1);a&&(e.thumbnail={w:a.offsetWidth},t.setState({dimmensions:e},(function(){t.wToH()})))},t.toggleGIF=function(e){var a=t.state.slides;a[e].remote===a[e].src?a[e].src=a[e].remoteStatic:a[e].src=a[e].remote,t.setState({slides:a})},t.buildSlidesArr=function(){var e=t.state.slides,a={index:0,gif:!1};t.state.data.imgImage.remote&&(a.remote=t.state.data.imgImage.remote,a.remoteStatic=t.state.data.imgImage.remoteStatic,a.src=t.state.data.imgImage.remoteStatic,a.gif=!0),a.fluid=t.state.data.imgImage.local.asset.fluid,e.push(a),t.state.data.imgGallery.length>0&&t.state.data.imgGallery.map((function(a,r){var i={};i.index=r+1,i.gif=!1,a.remote&&(i.remote=a.remote,i.remoteStatic=a.remoteStatic,i.src=t.state.data.imgImage.remoteStatic,i.gif=!0),i.fluid=a.local.asset.fluid,e.push(i)})),console.log(),t.setState({slides:e},(function(){t.handleDims()}))},t.changeSlides=function(e){if(e>=0&&e<t.state.slides.length){var a=t.state.imageSlider;a.arrowStyles.next={},a.arrowStyles.prev={},a.arrowClasses.next="active",a.arrowClasses.prev="active",a.activeSlide=t.state.slides[e],0===e?(a.arrowStyles.prev={pointerEvents:"none",opacity:.1},a.arrowClasses.prev=""):e===t.state.slides.length-1&&(a.arrowStyles.next={pointerEvents:"none",opacity:.1},a.arrowClasses.next=""),t.setState({imageSlider:a})}},t.wToH=function(){var e=t.state.thumbnail;e.style={height:t.state.dimmensions.thumbnail.w},t.setState({thumb:e})},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var s=r.prototype;return s.componentDidMount=function(){var e=this;console.log(this.state.data),this.buildSlidesArr(),window.addEventListener("resize",(function(){e.handleDims()})),document.addEventListener("scroll",(function(t){e.state.imageSlider.active&&e.toggleSlider()})),document.addEventListener("keyup",(function(t){console.log(e.state.imageSlider.active),e.state.imageSlider.active&&(37===t.keyCode?e.changeSlides(e.state.imageSlider.activeSlide.index-1):39===t.keyCode?e.changeSlides(e.state.imageSlider.activeSlide.index+1):27===t.keyCode&&e.toggleSlider())}))},s.render=function(){var e=this,t=(this.checkVar((function(){return e.state.slides}),!1),this.checkVar((function(){return e.state.data.exLink.url}),!1)),a=this.checkVar((function(){return e.state.data.exLink.title}),"Visit Website"),r=t?i.a.createElement("a",{href:t,target:"blank",title:a},a):"",s=this.checkVar((function(){return e.state.data.body.split("\n")}),!1);return i.a.createElement("div",{className:"project-wrap-outer"},i.a.createElement(c,{active:this.state.slider,toggle:this.toggleSlider,slides:this.state.slides,activeSlide:this.state.imageSlider.activeSlide,style:this.state.imageSlider.style.current,changeSlide:this.changeSlides,arrowStyles:this.state.imageSlider.arrowStyles,arrowClasses:this.state.imageSlider.arrowClasses,checkVar:this.checkVar}),i.a.createElement("div",{className:"project-wrap-inner"},i.a.createElement("div",{className:"project-left"},i.a.createElement("div",{className:"photo-grid-wrap"},i.a.createElement("div",{className:"photo-grid-inner"},i.a.createElement("div",{onClick:function(){e.toggleSlider(0)},onMouseOver:function(){e.changeSlides(0),e.toggleGIF(0)},onMouseOut:function(){e.toggleGIF(0)},key:1,"data-index":0,style:this.state.thumbnail.style,className:"slide-wrap feat-image"},this.state.slides.length>0?this.state.slides[0].gif?i.a.createElement("div",null,i.a.createElement("img",{src:this.state.slides[0].src})):i.a.createElement(l.a,{fluid:this.state.data.imgImage.local.asset.fluid}):i.a.createElement("img",{src:""})),i.a.createElement(o,{toggle:this.toggleSlider,toggleGIF:this.toggleGIF,photoGridData:this.checkVar((function(){return e.state.slides}),[]),changeSlides:this.changeSlides,style:this.state.thumbnail.style})))),i.a.createElement("div",{className:"project-right"},i.a.createElement("div",{className:"project-right-inner"},i.a.createElement("div",{className:"project-head"},i.a.createElement("h1",null,i.a.createElement("span",{className:"project-type"},this.state.data.projectType.title)," ",this.state.data.title),i.a.createElement("p",{className:"project-client"},i.a.createElement("label",null,"Client")," ",this.state.data.client.title),r),i.a.createElement("div",{className:"project-body-wrap"},s?i.a.createElement("div",{className:"project-body"},s.map((function(e,t){return i.a.createElement("p",{key:t},e)}))):""),i.a.createElement("div",{className:"tech"})))))},r}(i.a.Component);a.d(t,"query",(function(){return m}));var m="1947585675";t.default=function(e){var t=e.data;return i.a.createElement(s.a,{bodyClass:"project",coverPage:!1,homeLink:"/?home",data:i.a.createElement(d,{data:t})},i.a.createElement("h1",null,t.sanityProject.title))}}}]);
//# sourceMappingURL=component---src-templates-project-js-07a0dceb0dab6c7a0f8f.js.map