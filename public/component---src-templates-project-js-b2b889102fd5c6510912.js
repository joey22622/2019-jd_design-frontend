(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{256:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(251),l=(a(21),a(110)),s=a.n(l),c=function(e){var t={width:e.slides.length+"00vw",transform:"translateX(-"+100*e.activeSlide.index+"vw)"};return r.a.createElement("div",{className:"slider-wrapper",style:e.style.main},r.a.createElement("div",{className:"slider-inner"},r.a.createElement("div",{className:"arrow-container",style:e.style.underlay},r.a.createElement("div",{className:"button-wrap-outer button-prev "+e.arrowClasses.prev},r.a.createElement("div",{className:"button-wrap-inner"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.changeSlide(e.activeSlide.index-1)},className:"arrow-left",style:e.arrowStyles.prev},r.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"},r.a.createElement("defs",null),r.a.createElement("title",null,"arrow_prev"),r.a.createElement("path",{className:"cls-1",d:"M88.5,250l323-234.47L196.5,250l215,234.47Z"})))),r.a.createElement("div",{className:"arrow-streak"})),r.a.createElement("div",{className:"button-wrap-outer button-next "+e.arrowClasses.next},r.a.createElement("div",{className:"arrow-streak"}),r.a.createElement("div",{className:"button-wrap-inner"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.changeSlide(e.activeSlide.index+1)},className:"arrow-right",style:e.arrowStyles.next},r.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"},r.a.createElement("defs",null),r.a.createElement("title",null,"arrow_next"),r.a.createElement("path",{className:"cls-1",d:"M411.5,250,88.5,484.47,303.5,250,88.5,15.53Z"})))))),r.a.createElement("div",{className:"slide-window",style:e.style.window},r.a.createElement("div",{className:"slide-container",style:t},e.slides.map((function(e,t){return r.a.createElement("div",{key:t,"data-index":t,className:"project-slide-wrap"},r.a.createElement("div",{className:"slide-wrap-inner"},r.a.createElement(s.a,{fluid:e.fluid})))}))))),r.a.createElement("div",{onClick:e.toggle,style:e.style.underlay,className:"slider-underlay"}))},o=function(e){return r.a.createElement("div",{className:"photo-grid"},e.photoGridData.map((function(t,a){if(a>0)return r.a.createElement("div",{onClick:function(){e.toggle(a)},key:a,onMouseOver:function(){return e.changeSlides(a)},"data-index":a,style:e.style,className:"slide-wrap"},r.a.createElement(s.a,{fluid:t.fluid}))})))};var d=function(e){var t,a;function n(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={slides:[],imageSlider:{active:!1,activeSlide:{},inactiveStyle:{display:"none"},arrowStyles:{next:{},prev:{}},arrowClasses:{next:"",prev:""},style:{current:{main:{opacity:0,pointerEvents:"none"},underlay:{transform:"translateY(100vh)",opacity:.8},window:{transform:"translateY(-100vh)",opacity:0}},active:{underlay:{}},inactive:{main:{opacity:0,pointerEvents:"none"},underlay:{transform:"translateY(100vh)",opacity:.4},window:{transform:"translateY(-100vh)",opacity:0}}}},data:t.props.data.sanityProject,dimmensions:{},thumbnail:{style:{}}},t.toggleSlider=function(e){e||(e=0);var a=t.state.imageSlider,n=!a.active;a.active=n,n?(a.style.current=a.style.active,t.changeSlides(e)):a.style.current=a.style.inactive,console.log("hi there"),console.log(a),t.setState({imageSlider:a})},t.checkVar=function(e,t){try{return e()}catch(a){return t}},t.handleDims=function(){var e=t.state.dimmensions,a=t.checkVar((function(){return document.querySelector(".photo-grid .slide-wrap")}),!1);a&&(e.thumbnail={w:a.offsetWidth},t.setState({dimmensions:e},(function(){t.wToH()})))},t.buildSlidesArr=function(){var e=t.state.slides,a={};a.fluid=t.state.data.imgImage.local.asset.fluid,a.index=0,e.push(a),t.state.data.imgGallery.length>0&&t.state.data.imgGallery.map((function(t,a){var n={};n.index=a+1,n.fluid=t.local.asset.fluid,e.push(n)})),console.log(e),t.setState({slides:e},(function(){t.handleDims()}))},t.changeSlides=function(e){if(e>=0&&e<t.state.slides.length){var a=t.state.imageSlider;a.arrowStyles.next={},a.arrowStyles.prev={},a.arrowClasses.next="active",a.arrowClasses.prev="active",a.activeSlide=t.state.slides[e],0===e?(a.arrowStyles.prev={pointerEvents:"none",opacity:.1},a.arrowClasses.prev=""):e===t.state.slides.length-1&&(a.arrowStyles.next={pointerEvents:"none",opacity:.1},a.arrowClasses.next=""),t.setState({imageSlider:a})}},t.wToH=function(){var e=t.state.thumbnail;e.style={height:t.state.dimmensions.thumbnail.w},t.setState({thumb:e})},t}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=n.prototype;return i.componentDidUpdate=function(){},i.componentDidMount=function(){var e=this;this.buildSlidesArr(),window.addEventListener("resize",(function(){e.handleDims()})),document.addEventListener("scroll",(function(t){e.state.imageSlider.active&&e.toggleSlider()})),document.addEventListener("keyup",(function(t){console.log(e.state.imageSlider.active),e.state.imageSlider.active&&(37===t.keyCode?e.changeSlides(e.state.imageSlider.activeSlide.index-1):39===t.keyCode?e.changeSlides(e.state.imageSlider.activeSlide.index+1):27===t.keyCode&&e.toggleSlider())}))},i.render=function(){var e=this,t=(this.checkVar((function(){return e.state.slides}),!1),this.checkVar((function(){return e.state.data.exLink.url}),!1)),a=this.checkVar((function(){return e.state.data.exLink.title}),"Visit Website"),n=t?r.a.createElement("a",{href:t,target:"blank",title:a},a):"",i=this.checkVar((function(){return e.state.data._rawBody.split("\n")}),!1);return r.a.createElement("div",{className:"project-wrap-outer"},r.a.createElement(c,{active:this.state.slider,toggle:this.toggleSlider,slides:this.state.slides,activeSlide:this.state.imageSlider.activeSlide,style:this.state.imageSlider.style.current,changeSlide:this.changeSlides,arrowStyles:this.state.imageSlider.arrowStyles,arrowClasses:this.state.imageSlider.arrowClasses,checkVar:this.checkVar}),r.a.createElement("div",{className:"project-wrap-inner"},r.a.createElement("div",{className:"project-left"},r.a.createElement("div",{className:"photo-grid-wrap"},r.a.createElement("div",{className:"photo-grid-inner"},r.a.createElement("div",{onClick:function(){e.toggleSlider(0)},onMouseOver:function(){return e.changeSlides(0)},key:1,"data-index":0,style:this.state.thumbnail.style,className:"slide-wrap feat-image"},r.a.createElement(s.a,{fluid:this.state.data.imgImage.local.asset.fluid})),r.a.createElement(o,{toggle:this.toggleSlider,photoGridData:this.checkVar((function(){return e.state.slides}),[]),changeSlides:this.changeSlides,style:this.state.thumbnail.style})))),r.a.createElement("div",{className:"project-right"},r.a.createElement("div",{className:"project-right-inner"},r.a.createElement("div",{className:"project-head"},r.a.createElement("h1",null,r.a.createElement("span",{className:"project-type"},this.state.data.projectType.title)," ",this.state.data.title),r.a.createElement("p",{className:"project-client"},r.a.createElement("label",null,"Client")," ",this.state.data.client.title),n),r.a.createElement("div",{className:"project-body-wrap"},i?r.a.createElement("div",{className:"project-body"},i.map((function(e,t){return r.a.createElement("p",{key:t},e)}))):""),r.a.createElement("div",{className:"tech"})))))},n}(r.a.Component);a.d(t,"query",(function(){return m}));var m="100187563";t.default=function(e){var t=e.data;return r.a.createElement(i.a,{bodyClass:"project",coverPage:!1,homeLink:"/?home",data:r.a.createElement(d,{data:t})},r.a.createElement("h1",null,t.sanityProject.title))}}}]);
//# sourceMappingURL=component---src-templates-project-js-b2b889102fd5c6510912.js.map